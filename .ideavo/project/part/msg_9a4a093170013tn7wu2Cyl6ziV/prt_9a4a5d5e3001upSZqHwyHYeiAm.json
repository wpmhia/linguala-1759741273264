{
  "id": "prt_9a4a5d5e3001upSZqHwyHYeiAm",
  "messageID": "msg_9a4a093170013tn7wu2Cyl6ziV",
  "sessionID": "ses_65b8a18f2ffeMlgQ4UP0yHPHsm",
  "type": "tool",
  "tool": "edit",
  "callID": "toolu_01NdP613T3eczsktVZ1vGWbK",
  "state": {
    "status": "completed",
    "input": {
      "filePath": "/home/user/project/components/translator.tsx",
      "oldString": "          )}\n        </CardContent>\n      </Card>",
      "newString": "          )}\n            </TabsContent>\n\n            <TabsContent value=\"document\" className=\"mt-6\">\n              {/* Document Translation Interface */}\n              <div className=\"space-y-6\">\n                {!uploadedFile ? (\n                  <div className=\"border-2 border-dashed border-gray-300 rounded-lg p-12 text-center hover:border-blue-400 transition-colors\">\n                    <Upload className=\"h-12 w-12 text-gray-400 mx-auto mb-4\" />\n                    <h3 className=\"text-lg font-medium text-gray-900 mb-2\">Upload Document</h3>\n                    <p className=\"text-gray-600 mb-4\">Support for TXT, PDF, and DOCX files</p>\n                    <label htmlFor=\"file-upload\" className=\"cursor-pointer\">\n                      <Button variant=\"outline\" asChild>\n                        <span>Choose File</span>\n                      </Button>\n                    </label>\n                    <input\n                      id=\"file-upload\"\n                      type=\"file\"\n                      accept=\".txt,.pdf,.docx\"\n                      onChange={handleFileUpload}\n                      className=\"hidden\"\n                    />\n                  </div>\n                ) : (\n                  <div className=\"space-y-4\">\n                    <div className=\"flex items-center justify-between p-4 bg-blue-50 rounded-lg\">\n                      <div className=\"flex items-center space-x-3\">\n                        <FileText className=\"h-8 w-8 text-blue-600\" />\n                        <div>\n                          <p className=\"font-medium\">{uploadedFile.name}</p>\n                          <p className=\"text-sm text-gray-600\">{(uploadedFile.size / 1024).toFixed(1)} KB</p>\n                        </div>\n                      </div>\n                      <div className=\"flex items-center space-x-2\">\n                        {translatedText && (\n                          <Button onClick={downloadTranslatedDocument} variant=\"outline\" size=\"sm\">\n                            <Download className=\"h-4 w-4 mr-2\" />\n                            Download Translation\n                          </Button>\n                        )}\n                        <Button \n                          variant=\"outline\" \n                          size=\"sm\" \n                          onClick={() => {\n                            setUploadedFile(null)\n                            setDocumentContent(\"\")\n                            setSourceText(\"\")\n                            setTranslatedText(\"\")\n                          }}\n                        >\n                          <Trash2 className=\"h-4 w-4\" />\n                        </Button>\n                      </div>\n                    </div>\n\n                    {isProcessingDocument && (\n                      <div className=\"flex items-center justify-center p-8\">\n                        <div className=\"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600 mr-3\"></div>\n                        Processing document...\n                      </div>\n                    )}\n\n                    {documentContent && !isProcessingDocument && (\n                      <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n                        <div className=\"space-y-2\">\n                          <label className=\"text-sm font-medium text-gray-700\">\n                            Document Content ({getLanguageName(sourceLang)})\n                          </label>\n                          <div className=\"border rounded-lg p-4 bg-gray-50 max-h-96 overflow-y-auto\">\n                            <pre className=\"whitespace-pre-wrap text-sm\">{documentContent}</pre>\n                          </div>\n                        </div>\n\n                        <div className=\"space-y-2\">\n                          <label className=\"text-sm font-medium text-gray-700\">\n                            Translation ({getLanguageName(targetLang)})\n                          </label>\n                          <div className=\"border rounded-lg p-4 bg-white min-h-96 max-h-96 overflow-y-auto\">\n                            {isTranslating ? (\n                              <div className=\"flex items-center text-gray-500\">\n                                <div className=\"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-600 mr-2\"></div>\n                                Translating document...\n                              </div>\n                            ) : translatedText ? (\n                              <pre className=\"whitespace-pre-wrap text-sm\">{translatedText}</pre>\n                            ) : (\n                              <p className=\"text-gray-500 text-sm\">Click translate to see the result</p>\n                            )}\n                          </div>\n                        </div>\n                      </div>\n                    )}\n\n                    {documentContent && !realTimeEnabled && (\n                      <div className=\"flex justify-center\">\n                        <Button \n                          onClick={() => translateText(documentContent, sourceLang, targetLang)}\n                          disabled={isTranslating}\n                          size=\"lg\"\n                          className=\"bg-blue-600 hover:bg-blue-700\"\n                        >\n                          {isTranslating ? \"Translating...\" : \"Translate Document\"}\n                        </Button>\n                      </div>\n                    )}\n                  </div>\n                )}\n              </div>\n            </TabsContent>\n          </Tabs>\n\n          {isTranslating && (\n            <div className=\"flex items-center justify-center text-blue-600 font-medium\">\n              <div className=\"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-600 mr-2\"></div>\n              Translating...\n            </div>\n          )}\n        </CardContent>\n      </Card>"
    },
    "output": "",
    "metadata": {
      "diagnostics": {},
      "diff": "Index: /home/user/project/components/translator.tsx\n===================================================================\n--- /home/user/project/components/translator.tsx\n+++ /home/user/project/components/translator.tsx\n@@ -861,8 +861,125 @@\n         <div className=\"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-600 mr-2\"></div>\n         Translating...\n       </div>\n     )}\n+      </TabsContent>\n+\n+      <TabsContent value=\"document\" className=\"mt-6\">\n+        {/* Document Translation Interface */}\n+        <div className=\"space-y-6\">\n+          {!uploadedFile ? (\n+            <div className=\"border-2 border-dashed border-gray-300 rounded-lg p-12 text-center hover:border-blue-400 transition-colors\">\n+              <Upload className=\"h-12 w-12 text-gray-400 mx-auto mb-4\" />\n+              <h3 className=\"text-lg font-medium text-gray-900 mb-2\">Upload Document</h3>\n+              <p className=\"text-gray-600 mb-4\">Support for TXT, PDF, and DOCX files</p>\n+              <label htmlFor=\"file-upload\" className=\"cursor-pointer\">\n+                <Button variant=\"outline\" asChild>\n+                  <span>Choose File</span>\n+                </Button>\n+              </label>\n+              <input\n+                id=\"file-upload\"\n+                type=\"file\"\n+                accept=\".txt,.pdf,.docx\"\n+                onChange={handleFileUpload}\n+                className=\"hidden\"\n+              />\n+            </div>\n+          ) : (\n+            <div className=\"space-y-4\">\n+              <div className=\"flex items-center justify-between p-4 bg-blue-50 rounded-lg\">\n+                <div className=\"flex items-center space-x-3\">\n+                  <FileText className=\"h-8 w-8 text-blue-600\" />\n+                  <div>\n+                    <p className=\"font-medium\">{uploadedFile.name}</p>\n+                    <p className=\"text-sm text-gray-600\">{(uploadedFile.size / 1024).toFixed(1)} KB</p>\n+                  </div>\n+                </div>\n+                <div className=\"flex items-center space-x-2\">\n+                  {translatedText && (\n+                    <Button onClick={downloadTranslatedDocument} variant=\"outline\" size=\"sm\">\n+                      <Download className=\"h-4 w-4 mr-2\" />\n+                      Download Translation\n+                    </Button>\n+                  )}\n+                  <Button \n+                    variant=\"outline\" \n+                    size=\"sm\" \n+                    onClick={() => {\n+                      setUploadedFile(null)\n+                      setDocumentContent(\"\")\n+                      setSourceText(\"\")\n+                      setTranslatedText(\"\")\n+                    }}\n+                  >\n+                    <Trash2 className=\"h-4 w-4\" />\n+                  </Button>\n+                </div>\n+              </div>\n+\n+              {isProcessingDocument && (\n+                <div className=\"flex items-center justify-center p-8\">\n+                  <div className=\"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600 mr-3\"></div>\n+                  Processing document...\n+                </div>\n+              )}\n+\n+              {documentContent && !isProcessingDocument && (\n+                <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n+                  <div className=\"space-y-2\">\n+                    <label className=\"text-sm font-medium text-gray-700\">\n+                      Document Content ({getLanguageName(sourceLang)})\n+                    </label>\n+                    <div className=\"border rounded-lg p-4 bg-gray-50 max-h-96 overflow-y-auto\">\n+                      <pre className=\"whitespace-pre-wrap text-sm\">{documentContent}</pre>\n+                    </div>\n+                  </div>\n+\n+                  <div className=\"space-y-2\">\n+                    <label className=\"text-sm font-medium text-gray-700\">\n+                      Translation ({getLanguageName(targetLang)})\n+                    </label>\n+                    <div className=\"border rounded-lg p-4 bg-white min-h-96 max-h-96 overflow-y-auto\">\n+                      {isTranslating ? (\n+                        <div className=\"flex items-center text-gray-500\">\n+                          <div className=\"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-600 mr-2\"></div>\n+                          Translating document...\n+                        </div>\n+                      ) : translatedText ? (\n+                        <pre className=\"whitespace-pre-wrap text-sm\">{translatedText}</pre>\n+                      ) : (\n+                        <p className=\"text-gray-500 text-sm\">Click translate to see the result</p>\n+                      )}\n+                    </div>\n+                  </div>\n+                </div>\n+              )}\n+\n+              {documentContent && !realTimeEnabled && (\n+                <div className=\"flex justify-center\">\n+                  <Button \n+                    onClick={() => translateText(documentContent, sourceLang, targetLang)}\n+                    disabled={isTranslating}\n+                    size=\"lg\"\n+                    className=\"bg-blue-600 hover:bg-blue-700\"\n+                  >\n+                    {isTranslating ? \"Translating...\" : \"Translate Document\"}\n+                  </Button>\n+                </div>\n+              )}\n+            </div>\n+          )}\n+        </div>\n+      </TabsContent>\n+    </Tabs>\n+\n+    {isTranslating && (\n+      <div className=\"flex items-center justify-center text-blue-600 font-medium\">\n+        <div className=\"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-600 mr-2\"></div>\n+        Translating...\n+      </div>\n+    )}\n   </CardContent>\n </Card>\n \n {/* Translation History */}\n"
    },
    "title": "components/translator.tsx",
    "time": {
      "start": 1759403972357,
      "end": 1759403972373
    }
  }
}
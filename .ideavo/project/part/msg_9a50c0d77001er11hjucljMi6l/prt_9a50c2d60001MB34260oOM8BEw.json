{
  "id": "prt_9a50c2d60001MB34260oOM8BEw",
  "messageID": "msg_9a50c0d77001er11hjucljMi6l",
  "sessionID": "ses_65b8a18f2ffeMlgQ4UP0yHPHsm",
  "type": "tool",
  "tool": "read",
  "callID": "toolu_01DKknkPoufZhb4xbwgUifTh",
  "state": {
    "status": "completed",
    "input": {
      "filePath": "/home/user/project/lib/auth.ts"
    },
    "output": "<file>\n00001| import { NextAuthOptions } from \"next-auth\"\n00002| import { PrismaAdapter } from \"@auth/prisma-adapter\"\n00003| import { prisma } from \"@/lib/prisma\"\n00004| import GoogleProvider from \"next-auth/providers/google\"\n00005| import GitHubProvider from \"next-auth/providers/github\"\n00006| import EmailProvider from \"next-auth/providers/email\"\n00007| import CredentialsProvider from \"next-auth/providers/credentials\"\n00008| \n00009| export const authOptions: NextAuthOptions = {\n00010|   adapter: PrismaAdapter(prisma) as any,\n00011|   providers: [\n00012|     // Simple demo credentials provider for development\n00013|     CredentialsProvider({\n00014|       name: \"Demo Account\",\n00015|       credentials: {\n00016|         email: { label: \"Email\", type: \"email\", placeholder: \"demo@linguala.eu\" }\n00017|       },\n00018|       async authorize(credentials) {\n00019|         // For demo purposes, accept any email\n00020|         if (credentials?.email) {\n00021|           return {\n00022|             id: \"demo-user\",\n00023|             email: credentials.email,\n00024|             name: credentials.email.split('@')[0],\n00025|             image: null,\n00026|           }\n00027|         }\n00028|         return null\n00029|       }\n00030|     }),\n00031|     \n00032|     // Email provider - only enable if SMTP is configured\n00033|     ...(process.env.EMAIL_SERVER_HOST ? [\n00034|       EmailProvider({\n00035|         server: {\n00036|           host: process.env.EMAIL_SERVER_HOST,\n00037|           port: process.env.EMAIL_SERVER_PORT,\n00038|           auth: {\n00039|             user: process.env.EMAIL_SERVER_USER,\n00040|             pass: process.env.EMAIL_SERVER_PASSWORD,\n00041|           },\n00042|         },\n00043|         from: process.env.EMAIL_FROM,\n00044|       })\n00045|     ] : []),\n00046|     \n00047|     // Google OAuth provider - only enable if credentials are configured\n00048|     ...(process.env.GOOGLE_CLIENT_ID && process.env.GOOGLE_CLIENT_SECRET ? [\n00049|       GoogleProvider({\n00050|         clientId: process.env.GOOGLE_CLIENT_ID,\n00051|         clientSecret: process.env.GOOGLE_CLIENT_SECRET,\n00052|       })\n00053|     ] : []),\n00054|     \n00055|     // GitHub OAuth provider - only enable if credentials are configured\n00056|     ...(process.env.GITHUB_CLIENT_ID && process.env.GITHUB_CLIENT_SECRET ? [\n00057|       GitHubProvider({\n00058|         clientId: process.env.GITHUB_CLIENT_ID,\n00059|         clientSecret: process.env.GITHUB_CLIENT_SECRET,\n00060|       })\n00061|     ] : []),\n00062|   ],\n00063|   \n00064|   session: {\n00065|     strategy: \"jwt\",\n00066|     maxAge: 30 * 24 * 60 * 60, // 30 days\n00067|   },\n00068|   \n00069|   pages: {\n00070|     signIn: '/auth/signin',\n00071|     signOut: '/auth/signout',\n00072|     error: '/auth/error',\n00073|     verifyRequest: '/auth/verify-request',\n00074|   },\n00075|   \n00076|   callbacks: {\n00077|     async jwt({ token, user }) {\n00078|       if (user) {\n00079|         token.id = user.id\n00080|       }\n00081|       return token\n00082|     },\n00083|     async session({ session, token }) {\n00084|       if (session?.user) {\n00085|         session.user.id = token.id as string\n00086|       }\n00087|       return session\n00088|     },\n00089|   },\n00090|   \n00091|   events: {\n00092|     async createUser({ user }) {\n00093|       console.log(`New user created: ${user.email}`)\n00094|     },\n00095|   },\n00096| }\n</file>",
    "metadata": {
      "preview": "import { NextAuthOptions } from \"next-auth\"\nimport { PrismaAdapter } from \"@auth/prisma-adapter\"\nimport { prisma } from \"@/lib/prisma\"\nimport GoogleProvider from \"next-auth/providers/google\"\nimport GitHubProvider from \"next-auth/providers/github\"\nimport EmailProvider from \"next-auth/providers/email\"\nimport CredentialsProvider from \"next-auth/providers/credentials\"\n\nexport const authOptions: NextAuthOptions = {\n  adapter: PrismaAdapter(prisma) as any,\n  providers: [\n    // Simple demo credentials provider for development\n    CredentialsProvider({\n      name: \"Demo Account\",\n      credentials: {\n        email: { label: \"Email\", type: \"email\", placeholder: \"demo@linguala.eu\" }\n      },\n      async authorize(credentials) {\n        // For demo purposes, accept any email\n        if (credentials?.email) {"
    },
    "title": "lib/auth.ts",
    "time": {
      "start": 1759410663108,
      "end": 1759410663112
    }
  }
}